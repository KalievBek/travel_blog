<!DOCTYPE html>
<html lang="{{ request.LANGUAGE_CODE }}">
{% load static %}
{% load i18n %}
<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% trans "–ë–ª–æ–≥ –æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è—Ö" %}{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'blog/css/style.css' %}">
</head>
<body>
    <header>
        <div class="header-content">
            <h1>üåç {% trans "–ë–ª–æ–≥ –æ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è—Ö" %}</h1>
            <nav>
                <a href="{% url 'index' %}">{% trans "–ì–ª–∞–≤–Ω–∞—è" %}</a>

                <!-- –Ø–∑—ã–∫–æ–≤–æ–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å -->
                <form action="{% url 'set_language' %}" method="post" class="language-form">
                    {% csrf_token %}
                    <input name="next" type="hidden" value="{{ request.get_full_path }}">
                    <select name="language" onchange="this.form.submit()">
                        {% get_current_language as LANGUAGE_CODE %}
                        {% get_available_languages as LANGUAGES %}
                        {% for lang in LANGUAGES %}
                            <option value="{{ lang.0 }}" {% if lang.0 == LANGUAGE_CODE %}selected{% endif %}>
                                {{ lang.1 }}
                            </option>
                        {% endfor %}
                    </select>
                </form>

                <!-- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è -->
                {% if user.is_authenticated %}
                    <span class="welcome-text">{% trans "–ü—Ä–∏–≤–µ—Ç" %}, {{ user.username }}!</span>

                    <!-- –§–æ—Ä–º–∞ –¥–ª—è –≤—ã—Ö–æ–¥–∞ (POST –∑–∞–ø—Ä–æ—Å) -->
                    <form method="post" action="{% url 'logout' %}" class="logout-form">
                        {% csrf_token %}
                        <button type="submit" class="logout-btn">{% trans "–í—ã–π—Ç–∏" %}</button>
                    </form>
                {% else %}
                    <a href="{% url 'login' %}">{% trans "–í–æ–π—Ç–∏" %}</a>
                    <a href="{% url 'register' %}">{% trans "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è" %}</a>
                {% endif %}
            </nav>
        </div>
    </header>

    <main>
        {% block content %}
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—ã –±—É–¥–µ—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω —Å—é–¥–∞ -->
        {% endblock %}
    </main>

    <footer>
        <p>¬© 2025 {% trans "–ë–µ–∫–º—É—Ä–∞—Ç ‚Äî –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è –ø–æ –º–∏—Ä—É" %}</p>
    </footer>
</body>
</html>